# 图片标注工具

一个基于Python和Tkinter开发的图片标注工具，用于标注图片中的目标对象并生成YOLO格式的标注文件。

## 功能特性

1. **图片导入**：支持导入JPG、JPEG、PNG、BMP等格式的图片
2. **矩形标注**：通过鼠标拖拽绘制红色矩形框标注目标
3. **类别管理**：内置默认类别（马叔、桂英），支持添加新类别
4. **标注保存**：生成YOLO格式的标注文件，文件名与图片名对应
5. **直观界面**：清晰的标注信息显示，支持实时预览

## 安装依赖

```bash
pip install pillow
```

## 使用方法

1. **运行工具**
   ```bash
   python annotation_tool.py
   ```

2. **导入图片**
   - 点击菜单栏"文件" -> "导入图片"
   - 或点击工具栏的"导入图片"按钮
   - 选择要标注的图片文件

3. **标注对象**
   - 在图片上按住鼠标左键拖拽，绘制红色矩形框
   - 松开鼠标后，在弹出的对话框中选择或添加类别
   - 点击"确定类型"完成标注

4. **添加新类别**
   - 在类别选择对话框中，在"或添加新类型"输入框中输入新类别名称
   - 点击"添加类型"按钮
   - 新类别将被添加到下拉菜单中

5. **保存标注**
   - 点击菜单栏"文件" -> "保存标注"
   - 或点击工具栏的"保存标注"按钮
   - 标注文件将保存为与图片同名的.txt文件，保存在图片所在目录

## 标注文件格式

标注文件采用YOLO格式，每行表示一个标注对象，格式为：

```
<类别索引> <中心点x比例> <中心点y比例> <宽度比例> <高度比例>
```

- `类别索引`：类别在列表中的索引，从0开始
- `中心点x比例`：目标中心点x坐标相对于图片宽度的比例
- `中心点y比例`：目标中心点y坐标相对于图片高度的比例
- `宽度比例`：目标宽度相对于图片宽度的比例
- `高度比例`：目标高度相对于图片高度的比例

## 示例

原始图片：`example.jpg`
标注文件：`example.txt`

标注文件内容示例：
```
0 0.355556 0.332110 0.197431 0.129029
0 0.299029 0.562807 0.339347 0.447738
```

## 注意事项

1. 标注时确保矩形框完整包围目标对象
2. 类别名称建议使用简短、明确的名称
3. 保存标注前确保所有目标都已标注完成
4. 标注文件将覆盖同名文件，请谨慎操作

## 开发环境

- Python 3.6+
- Tkinter（Python标准库）
- Pillow 8.0+

## 许可证

MIT License